<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">
  <changeSet id="2023-08-24--00-00-create-queue-item-table" author="EricValuk">
    <createTable tableName="queue_items">
      <column name="id" type="uuid">
        <constraints primaryKey="true" nullable="false" />
      </column>
      <column name="jobExecutionId" type="uuid" />
      <column name="uploadDefinitionId" type="uuid" />
      <column name="originalSize" type="bigint" />
      <column name="filePath" type="text" />
      <column name="timestamp" type="datetime" />
      <column name="tenant" type="text" />
      <column name="partNumber" type="int" />
      <column name="processing" type="boolean" defaultValueBoolean="false" />
    </createTable>
    <createIndex indexName="idx_queue_processing" tableName="queue_items">
      <column name="processing" />
    </createIndex>
  </changeSet>
</databaseChangeLog>
